---
import '@/styles/globals.css';
import { Box, Home, Settings, Activity } from 'lucide-react';

interface Props {
  title: string;
  breadcrumbs: { label: string; href: string }[];
}

const { title, breadcrumbs } = Astro.props;
---

<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title} | Core UX Researcher</title>
  </head>
  <body class="bg-zinc-950 text-zinc-100 font-sans antialiased selection:bg-indigo-500/30">
    <div class="grid grid-cols-[64px_1fr_320px] min-h-screen">
      
      <aside class="flex flex-col items-center py-6 bg-zinc-950 border-r border-zinc-800 z-10">
        <div class="mb-8 p-2 bg-indigo-600 rounded-lg shadow-[0_0_15px_rgba(79,70,229,0.4)]">
          <Box className="w-6 h-6 text-white" />
        </div>
        
        <nav class="flex flex-col gap-6 w-full items-center">
          <a href="/" class="p-3 text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-md transition-colors" title="Projects">
            <Home className="w-5 h-5" />
          </a>
          <a href="/research" class="p-3 text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-md transition-colors" title="Research Lab">
            <Activity className="w-5 h-5" />
          </a>
          <a href="/settings" class="p-3 text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-md transition-colors mt-auto" title="Configuration">
            <Settings className="w-5 h-5" />
          </a>
        </nav>
      </aside>

      <main class="relative flex flex-col min-w-0 bg-zinc-900/50">
        <header class="h-16 border-b border-zinc-800 flex items-center px-8 bg-zinc-950/80 backdrop-blur-sm sticky top-0 z-20">
          <nav class="flex items-center text-sm font-medium text-zinc-500">
            {breadcrumbs.map((crumb, index) => (
              <>
                {index > 0 && <span class="mx-2 text-zinc-700">/</span>}
                <a href={crumb.href} class="hover:text-zinc-200 transition-colors">
                  {crumb.label}
                </a>
              </>
            ))}
          </nav>
        </header>
        
        <div class="p-8 flex-1 overflow-y-auto">
          <slot />
        </div>
      </main>

      <aside class="sticky top-0 h-screen bg-zinc-950 border-l border-zinc-800 flex flex-col shadow-2xl overflow-hidden">
        <div class="h-16 flex items-center px-4 border-b border-zinc-800 bg-zinc-950/50">
          <div class="w-2 h-2 rounded-full bg-emerald-500 mr-3 animate-pulse"></div>
          <span class="text-xs font-mono font-bold uppercase tracking-widest text-zinc-400">Swarm Activity</span>
        </div>
        
        <div class="flex-1 overflow-y-auto p-4 space-y-4 font-mono text-xs">
          <slot name="agent-stream" />
        </div>
      </aside>

    </div>
  </body>
</html>
